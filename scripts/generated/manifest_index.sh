#!/usr/bin/env bash
# shellcheck disable=SC2034
# ============================================================
# AUTO-GENERATED FROM acfs.manifest.yaml - DO NOT EDIT
# Regenerate: bun run generate (from packages/manifest)
# ============================================================
# Data-only manifest index. Safe to source.

ACFS_MANIFEST_SHA256="f4aade81dfe78d1af07afd5d8b224ba3ff5e8a75c3926eff37d21a53a95e07d6"

ACFS_MODULES_IN_ORDER=(
  "base.system"
  "users.ubuntu"
  "base.filesystem"
  "shell.zsh"
  "shell.omz"
  "cli.modern"
  "tools.lazygit"
  "tools.lazydocker"
  "network.tailscale"
  "network.ssh_keepalive"
  "lang.bun"
  "lang.uv"
  "lang.rust"
  "lang.go"
  "lang.nvm"
  "tools.atuin"
  "tools.zoxide"
  "tools.ast_grep"
  "agents.claude"
  "agents.codex"
  "agents.gemini"
  "tools.vault"
  "db.postgres18"
  "cloud.wrangler"
  "cloud.supabase"
  "cloud.vercel"
  "stack.ntm"
  "stack.mcp_agent_mail"
  "stack.meta_skill"
  "stack.automated_plan_reviser"
  "stack.jeffreysprompts"
  "stack.process_triage"
  "stack.ultimate_bug_scanner"
  "stack.beads_rust"
  "stack.beads_viewer"
  "stack.cass"
  "stack.cm"
  "stack.caam"
  "stack.slb"
  "stack.dcg"
  "stack.ru"
  "stack.brenner_bot"
  "stack.rch"
  "stack.wezterm_automata"
  "stack.srps"
  "utils.giil"
  "utils.csctf"
  "utils.xf"
  "utils.toon_rust"
  "utils.rano"
  "utils.mdwb"
  "utils.s2p"
  "utils.rust_proxy"
  "utils.aadc"
  "utils.caut"
  "acfs.workspace"
  "acfs.onboard"
  "acfs.update"
  "acfs.nightly"
  "acfs.doctor"
)

declare -gA ACFS_MODULE_PHASE=(
  [base.system]="1"
  [users.ubuntu]="2"
  [base.filesystem]="3"
  [shell.zsh]="4"
  [shell.omz]="4"
  [cli.modern]="5"
  [tools.lazygit]="5"
  [tools.lazydocker]="5"
  [network.tailscale]="5"
  [network.ssh_keepalive]="5"
  [lang.bun]="6"
  [lang.uv]="6"
  [lang.rust]="6"
  [lang.go]="6"
  [lang.nvm]="6"
  [tools.atuin]="6"
  [tools.zoxide]="6"
  [tools.ast_grep]="6"
  [agents.claude]="7"
  [agents.codex]="7"
  [agents.gemini]="7"
  [tools.vault]="8"
  [db.postgres18]="8"
  [cloud.wrangler]="8"
  [cloud.supabase]="8"
  [cloud.vercel]="8"
  [stack.ntm]="9"
  [stack.mcp_agent_mail]="9"
  [stack.meta_skill]="9"
  [stack.automated_plan_reviser]="9"
  [stack.jeffreysprompts]="9"
  [stack.process_triage]="9"
  [stack.ultimate_bug_scanner]="9"
  [stack.beads_rust]="9"
  [stack.beads_viewer]="9"
  [stack.cass]="9"
  [stack.cm]="9"
  [stack.caam]="9"
  [stack.slb]="9"
  [stack.dcg]="9"
  [stack.ru]="9"
  [stack.brenner_bot]="9"
  [stack.rch]="9"
  [stack.wezterm_automata]="9"
  [stack.srps]="9"
  [utils.giil]="9"
  [utils.csctf]="9"
  [utils.xf]="9"
  [utils.toon_rust]="9"
  [utils.rano]="9"
  [utils.mdwb]="9"
  [utils.s2p]="9"
  [utils.rust_proxy]="9"
  [utils.aadc]="9"
  [utils.caut]="9"
  [acfs.workspace]="10"
  [acfs.onboard]="10"
  [acfs.update]="10"
  [acfs.nightly]="10"
  [acfs.doctor]="10"
)

declare -gA ACFS_MODULE_DEPS=(
  [base.system]=""
  [users.ubuntu]=""
  [base.filesystem]="users.ubuntu"
  [shell.zsh]="base.system,base.filesystem"
  [shell.omz]="shell.zsh"
  [cli.modern]="base.system"
  [tools.lazygit]="base.system"
  [tools.lazydocker]="base.system"
  [network.tailscale]="base.system"
  [network.ssh_keepalive]="base.system"
  [lang.bun]="base.system"
  [lang.uv]="base.system"
  [lang.rust]="base.system"
  [lang.go]="base.system"
  [lang.nvm]="base.system"
  [tools.atuin]="base.system"
  [tools.zoxide]="base.system"
  [tools.ast_grep]="lang.rust"
  [agents.claude]="base.system"
  [agents.codex]="lang.bun"
  [agents.gemini]="lang.bun"
  [tools.vault]="base.system"
  [db.postgres18]="base.system"
  [cloud.wrangler]="lang.bun"
  [cloud.supabase]="base.system,base.filesystem"
  [cloud.vercel]="lang.bun"
  [stack.ntm]="cli.modern"
  [stack.mcp_agent_mail]="lang.bun,lang.uv,cli.modern"
  [stack.meta_skill]="lang.rust,lang.uv"
  [stack.automated_plan_reviser]="lang.rust"
  [stack.jeffreysprompts]=""
  [stack.process_triage]="lang.rust"
  [stack.ultimate_bug_scanner]="lang.bun,lang.uv,tools.ast_grep"
  [stack.beads_rust]="lang.rust"
  [stack.beads_viewer]="lang.go,stack.beads_rust"
  [stack.cass]="lang.rust,lang.uv"
  [stack.cm]="lang.rust,lang.uv"
  [stack.caam]="lang.bun"
  [stack.slb]="lang.go"
  [stack.dcg]="agents.claude"
  [stack.ru]="cli.modern,stack.ntm"
  [stack.brenner_bot]="lang.rust,stack.cass"
  [stack.rch]="lang.rust"
  [stack.wezterm_automata]="lang.rust"
  [stack.srps]="base.system,lang.go"
  [utils.giil]="base.system"
  [utils.csctf]="base.system"
  [utils.xf]="lang.rust"
  [utils.toon_rust]="lang.rust"
  [utils.rano]="lang.rust"
  [utils.mdwb]="lang.rust"
  [utils.s2p]="lang.rust"
  [utils.rust_proxy]="lang.rust"
  [utils.aadc]="lang.rust"
  [utils.caut]="lang.rust"
  [acfs.workspace]="agents.claude,agents.codex,agents.gemini,cli.modern"
  [acfs.onboard]=""
  [acfs.update]=""
  [acfs.nightly]="acfs.update"
  [acfs.doctor]=""
)

declare -gA ACFS_MODULE_FUNC=(
  [base.system]="install_base_system"
  [users.ubuntu]="install_users_ubuntu"
  [base.filesystem]="install_base_filesystem"
  [shell.zsh]="install_shell_zsh"
  [shell.omz]="install_shell_omz"
  [cli.modern]="install_cli_modern"
  [tools.lazygit]="install_tools_lazygit"
  [tools.lazydocker]="install_tools_lazydocker"
  [network.tailscale]="install_network_tailscale"
  [network.ssh_keepalive]="install_network_ssh_keepalive"
  [lang.bun]="install_lang_bun"
  [lang.uv]="install_lang_uv"
  [lang.rust]="install_lang_rust"
  [lang.go]="install_lang_go"
  [lang.nvm]="install_lang_nvm"
  [tools.atuin]="install_tools_atuin"
  [tools.zoxide]="install_tools_zoxide"
  [tools.ast_grep]="install_tools_ast_grep"
  [agents.claude]="install_agents_claude"
  [agents.codex]="install_agents_codex"
  [agents.gemini]="install_agents_gemini"
  [tools.vault]="install_tools_vault"
  [db.postgres18]="install_db_postgres18"
  [cloud.wrangler]="install_cloud_wrangler"
  [cloud.supabase]="install_cloud_supabase"
  [cloud.vercel]="install_cloud_vercel"
  [stack.ntm]="install_stack_ntm"
  [stack.mcp_agent_mail]="install_stack_mcp_agent_mail"
  [stack.meta_skill]="install_stack_meta_skill"
  [stack.automated_plan_reviser]="install_stack_automated_plan_reviser"
  [stack.jeffreysprompts]="install_stack_jeffreysprompts"
  [stack.process_triage]="install_stack_process_triage"
  [stack.ultimate_bug_scanner]="install_stack_ultimate_bug_scanner"
  [stack.beads_rust]="install_stack_beads_rust"
  [stack.beads_viewer]="install_stack_beads_viewer"
  [stack.cass]="install_stack_cass"
  [stack.cm]="install_stack_cm"
  [stack.caam]="install_stack_caam"
  [stack.slb]="install_stack_slb"
  [stack.dcg]="install_stack_dcg"
  [stack.ru]="install_stack_ru"
  [stack.brenner_bot]="install_stack_brenner_bot"
  [stack.rch]="install_stack_rch"
  [stack.wezterm_automata]="install_stack_wezterm_automata"
  [stack.srps]="install_stack_srps"
  [utils.giil]="install_utils_giil"
  [utils.csctf]="install_utils_csctf"
  [utils.xf]="install_utils_xf"
  [utils.toon_rust]="install_utils_toon_rust"
  [utils.rano]="install_utils_rano"
  [utils.mdwb]="install_utils_mdwb"
  [utils.s2p]="install_utils_s2p"
  [utils.rust_proxy]="install_utils_rust_proxy"
  [utils.aadc]="install_utils_aadc"
  [utils.caut]="install_utils_caut"
  [acfs.workspace]="install_acfs_workspace"
  [acfs.onboard]="install_acfs_onboard"
  [acfs.update]="install_acfs_update"
  [acfs.nightly]="install_acfs_nightly"
  [acfs.doctor]="install_acfs_doctor"
)

declare -gA ACFS_MODULE_CATEGORY=(
  [base.system]="base"
  [users.ubuntu]="users"
  [base.filesystem]="filesystem"
  [shell.zsh]="shell"
  [shell.omz]="shell"
  [cli.modern]="cli"
  [tools.lazygit]="tools"
  [tools.lazydocker]="tools"
  [network.tailscale]="network"
  [network.ssh_keepalive]="network"
  [lang.bun]="lang"
  [lang.uv]="lang"
  [lang.rust]="lang"
  [lang.go]="lang"
  [lang.nvm]="lang"
  [tools.atuin]="tools"
  [tools.zoxide]="tools"
  [tools.ast_grep]="tools"
  [agents.claude]="agents"
  [agents.codex]="agents"
  [agents.gemini]="agents"
  [tools.vault]="tools"
  [db.postgres18]="db"
  [cloud.wrangler]="cloud"
  [cloud.supabase]="cloud"
  [cloud.vercel]="cloud"
  [stack.ntm]="stack"
  [stack.mcp_agent_mail]="stack"
  [stack.meta_skill]="stack"
  [stack.automated_plan_reviser]="stack"
  [stack.jeffreysprompts]="stack"
  [stack.process_triage]="stack"
  [stack.ultimate_bug_scanner]="stack"
  [stack.beads_rust]="stack"
  [stack.beads_viewer]="stack"
  [stack.cass]="stack"
  [stack.cm]="stack"
  [stack.caam]="stack"
  [stack.slb]="stack"
  [stack.dcg]="stack"
  [stack.ru]="stack"
  [stack.brenner_bot]="stack"
  [stack.rch]="stack"
  [stack.wezterm_automata]="stack"
  [stack.srps]="stack"
  [utils.giil]="tools"
  [utils.csctf]="tools"
  [utils.xf]="tools"
  [utils.toon_rust]="tools"
  [utils.rano]="tools"
  [utils.mdwb]="tools"
  [utils.s2p]="tools"
  [utils.rust_proxy]="tools"
  [utils.aadc]="tools"
  [utils.caut]="tools"
  [acfs.workspace]="acfs"
  [acfs.onboard]="acfs"
  [acfs.update]="acfs"
  [acfs.nightly]="acfs"
  [acfs.doctor]="acfs"
)

declare -gA ACFS_MODULE_TAGS=(
  [base.system]="critical"
  [users.ubuntu]="orchestration,critical"
  [base.filesystem]="critical"
  [shell.zsh]="critical,shell-ux"
  [shell.omz]="critical,shell-ux"
  [cli.modern]="recommended,cli-modern"
  [tools.lazygit]="recommended,cli-modern"
  [tools.lazydocker]="recommended,cli-modern"
  [network.tailscale]="networking,vpn,security,google-sso"
  [network.ssh_keepalive]="networking,remote-dev,ssh"
  [lang.bun]="critical,runtime"
  [lang.uv]="critical,runtime"
  [lang.rust]="critical,runtime"
  [lang.go]="critical,runtime"
  [lang.nvm]="critical,runtime"
  [tools.atuin]="recommended,shell-ux"
  [tools.zoxide]="recommended,shell-ux"
  [tools.ast_grep]="recommended"
  [agents.claude]="recommended,agent"
  [agents.codex]="recommended,agent"
  [agents.gemini]="recommended,agent"
  [tools.vault]="optional,cloud"
  [db.postgres18]="optional,database"
  [cloud.wrangler]="optional,cloud"
  [cloud.supabase]="optional,cloud"
  [cloud.vercel]="optional,cloud"
  [stack.ntm]="recommended"
  [stack.mcp_agent_mail]="recommended,tmux-spawn"
  [stack.meta_skill]="recommended,agent-skills"
  [stack.automated_plan_reviser]="recommended,agent-tools"
  [stack.jeffreysprompts]="recommended,agent-skills,prompts"
  [stack.process_triage]="recommended,system-tools"
  [stack.ultimate_bug_scanner]="recommended"
  [stack.beads_rust]="recommended"
  [stack.beads_viewer]="recommended"
  [stack.cass]="recommended"
  [stack.cm]="recommended"
  [stack.caam]="recommended"
  [stack.slb]="optional"
  [stack.dcg]="recommended,safety"
  [stack.ru]="recommended"
  [stack.brenner_bot]="recommended"
  [stack.rch]="recommended,performance"
  [stack.wezterm_automata]="recommended,automation"
  [stack.srps]="recommended,system-health"
  [utils.giil]="utility"
  [utils.csctf]="utility"
  [utils.xf]="utility,search"
  [utils.toon_rust]="utility,llm"
  [utils.rano]="utility,network,debug"
  [utils.mdwb]="utility,web,llm"
  [utils.s2p]="utility,llm,tui"
  [utils.rust_proxy]="utility,network,debug"
  [utils.aadc]="utility,ascii"
  [utils.caut]="utility,tracking"
  [acfs.workspace]="workspace,agents"
  [acfs.onboard]="orchestration"
  [acfs.update]="orchestration"
  [acfs.nightly]="orchestration,maintenance"
  [acfs.doctor]="orchestration"
)

declare -gA ACFS_MODULE_DEFAULT=(
  [base.system]="1"
  [users.ubuntu]="1"
  [base.filesystem]="1"
  [shell.zsh]="1"
  [shell.omz]="1"
  [cli.modern]="1"
  [tools.lazygit]="1"
  [tools.lazydocker]="1"
  [network.tailscale]="1"
  [network.ssh_keepalive]="1"
  [lang.bun]="1"
  [lang.uv]="1"
  [lang.rust]="1"
  [lang.go]="1"
  [lang.nvm]="1"
  [tools.atuin]="1"
  [tools.zoxide]="1"
  [tools.ast_grep]="1"
  [agents.claude]="1"
  [agents.codex]="1"
  [agents.gemini]="1"
  [tools.vault]="0"
  [db.postgres18]="0"
  [cloud.wrangler]="0"
  [cloud.supabase]="0"
  [cloud.vercel]="0"
  [stack.ntm]="1"
  [stack.mcp_agent_mail]="1"
  [stack.meta_skill]="1"
  [stack.automated_plan_reviser]="1"
  [stack.jeffreysprompts]="1"
  [stack.process_triage]="1"
  [stack.ultimate_bug_scanner]="1"
  [stack.beads_rust]="1"
  [stack.beads_viewer]="1"
  [stack.cass]="1"
  [stack.cm]="1"
  [stack.caam]="1"
  [stack.slb]="1"
  [stack.dcg]="1"
  [stack.ru]="1"
  [stack.brenner_bot]="1"
  [stack.rch]="1"
  [stack.wezterm_automata]="1"
  [stack.srps]="1"
  [utils.giil]="1"
  [utils.csctf]="1"
  [utils.xf]="0"
  [utils.toon_rust]="1"
  [utils.rano]="0"
  [utils.mdwb]="1"
  [utils.s2p]="1"
  [utils.rust_proxy]="0"
  [utils.aadc]="0"
  [utils.caut]="0"
  [acfs.workspace]="1"
  [acfs.onboard]="1"
  [acfs.update]="1"
  [acfs.nightly]="1"
  [acfs.doctor]="1"
)

declare -gA ACFS_MODULE_DESC=(
  [base.system]="Base packages + sane defaults"
  [users.ubuntu]="Ensure ubuntu user + passwordless sudo + ssh keys"
  [base.filesystem]="Create workspace and ACFS directories"
  [shell.zsh]="Zsh shell package"
  [shell.omz]="Oh My Zsh + Powerlevel10k + plugins + ACFS config"
  [cli.modern]="Modern CLI tools referenced by the zshrc intent"
  [tools.lazygit]="Lazygit (apt or binary fallback)"
  [tools.lazydocker]="Lazydocker (binary install)"
  [network.tailscale]="Zero-config mesh VPN for secure remote VPS access"
  [network.ssh_keepalive]="Configure SSH server keepalive to prevent VPN/NAT disconnects"
  [lang.bun]="Bun runtime for JS tooling and global CLIs"
  [lang.uv]="uv Python tooling (fast venvs)"
  [lang.rust]="Rust nightly + cargo"
  [lang.go]="Go toolchain"
  [lang.nvm]="nvm + latest Node.js"
  [tools.atuin]="Atuin shell history (Ctrl-R superpowers)"
  [tools.zoxide]="Zoxide (better cd)"
  [tools.ast_grep]="ast-grep (used by UBS for syntax-aware scanning)"
  [agents.claude]="Claude Code"
  [agents.codex]="OpenAI Codex CLI"
  [agents.gemini]="Google Gemini CLI"
  [tools.vault]="HashiCorp Vault CLI"
  [db.postgres18]="PostgreSQL 18"
  [cloud.wrangler]="Cloudflare Wrangler CLI"
  [cloud.supabase]="Supabase CLI"
  [cloud.vercel]="Vercel CLI"
  [stack.ntm]="Named tmux manager (agent cockpit)"
  [stack.mcp_agent_mail]="Like gmail for coding agents; MCP HTTP server + token; installs beads tools"
  [stack.meta_skill]="Local-first knowledge management with hybrid semantic search (ms)"
  [stack.automated_plan_reviser]="Automated iterative spec refinement with extended AI reasoning (apr)"
  [stack.jeffreysprompts]="Curated battle-tested prompts for AI agents - browse and install as skills (jfp)"
  [stack.process_triage]="Find and terminate stuck/zombie processes with intelligent scoring (pt)"
  [stack.ultimate_bug_scanner]="UBS bug scanning (easy-mode)"
  [stack.beads_rust]="beads_rust (br) - Rust issue tracker with graph-aware dependencies"
  [stack.beads_viewer]="bv TUI for Beads tasks"
  [stack.cass]="Unified search across agent session history"
  [stack.cm]="Procedural memory for agents (cass-memory)"
  [stack.caam]="Instant auth switching for agent CLIs"
  [stack.slb]="Two-person rule for dangerous commands (optional guardrails)"
  [stack.dcg]="Destructive Command Guard - Claude Code hook blocking dangerous git/fs commands"
  [stack.ru]="Repo Updater - multi-repo sync + AI-driven commit automation"
  [stack.brenner_bot]="Brenner Bot - research session manager with hypothesis tracking"
  [stack.rch]="Remote Compilation Helper - transparent build offloading for AI coding agents"
  [stack.wezterm_automata]="WezTerm Automata (wa) - terminal automation and orchestration for AI agents"
  [stack.srps]="System Resource Protection Script - ananicy-cpp rules + TUI monitor for responsive dev workstations"
  [utils.giil]="Get Image from Internet Link - download cloud images for visual debugging"
  [utils.csctf]="Chat Shared Conversation to File - convert AI share links to Markdown/HTML"
  [utils.xf]="xf - Ultra-fast X/Twitter archive search with Tantivy"
  [utils.toon_rust]="toon_rust (tru) - Token-optimized notation format for LLM context efficiency"
  [utils.rano]="rano - Network observer for AI CLIs with request/response logging"
  [utils.mdwb]="markdown_web_browser (mdwb) - Convert websites to Markdown for LLM consumption"
  [utils.s2p]="source_to_prompt_tui (s2p) - Code to LLM prompt generator with TUI"
  [utils.rust_proxy]="rust_proxy - Transparent proxy routing for debugging network traffic"
  [utils.aadc]="aadc - ASCII diagram corrector for fixing malformed ASCII art"
  [utils.caut]="coding_agent_usage_tracker (caut) - LLM provider usage tracker"
  [acfs.workspace]="Agent workspace with tmux session and project folder"
  [acfs.onboard]="Onboarding TUI tutorial"
  [acfs.update]="ACFS update command wrapper"
  [acfs.nightly]="Nightly auto-update timer (systemd)"
  [acfs.doctor]="ACFS doctor command for health checks"
)

declare -gA ACFS_MODULE_INSTALLED_CHECK=(
  [base.system]="command -v curl && command -v git && command -v jq"
  [base.filesystem]="test -d /data/projects && test -d ~/.acfs"
  [shell.zsh]="command -v zsh"
  [shell.omz]="test -d ~/.oh-my-zsh && test -f ~/.acfs/zsh/acfs.zshrc"
  [cli.modern]="command -v rg && command -v tmux && command -v fzf"
  [tools.lazygit]="command -v lazygit"
  [tools.lazydocker]="command -v lazydocker"
  [network.tailscale]="command -v tailscale"
  [network.ssh_keepalive]="# Check if ClientAliveInterval is configured (non-zero)\ngrep -qE '^ClientAliveInterval[[:space:]]+[1-9]' /etc/ssh/sshd_config 2>/dev/null\n"
  [lang.bun]="test -x ~/.bun/bin/bun"
  [lang.uv]="test -x ~/.local/bin/uv"
  [lang.rust]="test -x ~/.cargo/bin/cargo"
  [lang.go]="command -v go"
  [lang.nvm]="test -d ~/.nvm && ls ~/.nvm/versions/node/ 2>/dev/null | grep -q ."
  [tools.atuin]="test -x ~/.atuin/bin/atuin"
  [tools.zoxide]="command -v zoxide"
  [tools.ast_grep]="command -v sg"
  [agents.claude]="test -x ~/.local/bin/claude"
  [agents.codex]="test -x ~/.local/bin/codex"
  [agents.gemini]="test -x ~/.local/bin/gemini"
  [tools.vault]="command -v vault"
  [db.postgres18]="command -v psql"
  [cloud.wrangler]="command -v wrangler"
  [cloud.supabase]="command -v supabase"
  [cloud.vercel]="command -v vercel"
  [stack.ntm]="command -v ntm"
  [stack.mcp_agent_mail]="command -v am"
  [stack.meta_skill]="command -v ms"
  [stack.automated_plan_reviser]="command -v apr"
  [stack.jeffreysprompts]="command -v jfp"
  [stack.process_triage]="command -v pt"
  [stack.ultimate_bug_scanner]="command -v ubs"
  [stack.beads_rust]="command -v br"
  [stack.beads_viewer]="command -v bv"
  [stack.cass]="command -v cass"
  [stack.cm]="command -v cm"
  [stack.caam]="command -v caam"
  [stack.slb]="command -v slb"
  [stack.dcg]="command -v dcg"
  [stack.ru]="command -v ru"
  [stack.brenner_bot]="command -v brenner"
  [stack.rch]="command -v rch"
  [stack.wezterm_automata]="command -v wa"
  [stack.srps]="command -v sysmoni && systemctl is-active ananicy-cpp >/dev/null 2>&1"
  [utils.giil]="command -v giil"
  [utils.csctf]="command -v csctf"
  [utils.xf]="command -v xf"
  [utils.toon_rust]="command -v tru"
  [utils.rano]="command -v rano"
  [utils.mdwb]="command -v mdwb"
  [utils.s2p]="command -v s2p"
  [utils.rust_proxy]="command -v rust_proxy"
  [utils.aadc]="command -v aadc"
  [utils.caut]="command -v caut"
  [acfs.workspace]="test -d /data/projects/my_first_project"
  [acfs.nightly]="systemctl --user is-enabled acfs-nightly-update.timer 2>/dev/null"
)

declare -gA ACFS_MODULE_INSTALLED_CHECK_RUN_AS=(
  [base.system]="current"
  [base.filesystem]="target_user"
  [shell.zsh]="current"
  [shell.omz]="target_user"
  [cli.modern]="current"
  [tools.lazygit]="current"
  [tools.lazydocker]="current"
  [network.tailscale]="current"
  [network.ssh_keepalive]="current"
  [lang.bun]="target_user"
  [lang.uv]="target_user"
  [lang.rust]="target_user"
  [lang.go]="current"
  [lang.nvm]="target_user"
  [tools.atuin]="target_user"
  [tools.zoxide]="target_user"
  [tools.ast_grep]="target_user"
  [agents.claude]="target_user"
  [agents.codex]="target_user"
  [agents.gemini]="target_user"
  [tools.vault]="current"
  [db.postgres18]="current"
  [cloud.wrangler]="target_user"
  [cloud.supabase]="target_user"
  [cloud.vercel]="target_user"
  [stack.ntm]="target_user"
  [stack.mcp_agent_mail]="target_user"
  [stack.meta_skill]="target_user"
  [stack.automated_plan_reviser]="target_user"
  [stack.jeffreysprompts]="target_user"
  [stack.process_triage]="target_user"
  [stack.ultimate_bug_scanner]="target_user"
  [stack.beads_rust]="target_user"
  [stack.beads_viewer]="target_user"
  [stack.cass]="target_user"
  [stack.cm]="target_user"
  [stack.caam]="target_user"
  [stack.slb]="target_user"
  [stack.dcg]="target_user"
  [stack.ru]="target_user"
  [stack.brenner_bot]="target_user"
  [stack.rch]="target_user"
  [stack.wezterm_automata]="target_user"
  [stack.srps]="target_user"
  [utils.giil]="target_user"
  [utils.csctf]="target_user"
  [utils.xf]="target_user"
  [utils.toon_rust]="target_user"
  [utils.rano]="target_user"
  [utils.mdwb]="target_user"
  [utils.s2p]="target_user"
  [utils.rust_proxy]="target_user"
  [utils.aadc]="target_user"
  [utils.caut]="target_user"
  [acfs.workspace]="target_user"
  [acfs.nightly]="target_user"
)

ACFS_MANIFEST_INDEX_LOADED=true
